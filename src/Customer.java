// Exception for invalid Customerclass InvalidCustomerException extends Exception {    public InvalidCustomerException(String message) {        super(message);    }}// Exception for insufficient balanceclass InsufficientBalanceException extends Exception {    public InsufficientBalanceException(String message) {        super(message);    }}// Exception for age requirementclass AgeLimitException extends Exception {    public AgeLimitException(String message) {        super(message);    }}// Public base class for Customerpublic class Customer {    // Instance Variables    private String customerID;    private String customerName;    private DiscountType discountType;    private int balance; // in pence    private int age;    // Level and Value of personal discount    public enum DiscountType{        NONE(0),        CMP_STAFF(10),        STUDENT(20);        private final int percentage;        DiscountType(int percentage) {            this.percentage = percentage;        }        public int percentage() {            return percentage;        }    }    // Constructor with balance    public Customer(String customerID, String customerName, int age, DiscountType discountType, int balance) throws InvalidCustomerException {        if (!customerID.matches("[A-Za-z0-9]{6}")) {            throw new InvalidCustomerException("Invalid customer ID. Must be 6 alphanumeric characters.");        }        if (balance < 0) {            throw new InvalidCustomerException("Balance cannot be negative.");        }        this.customerID = customerID;        this.customerName = customerName;        this.discountType = discountType;        this.age = age;        this.balance = balance;    }    // Constructor with default balance (calls main constructor)    public Customer(String customerID, String customerName, int age, DiscountType discountType) throws InvalidCustomerException {        this(customerID, customerName, age, discountType, 0);    }    // Getter methods    public String getCustomerID() {        return customerID;    }    public String getCustomerName() {        return customerName;    }    public int getAge() {        return age;    }    public DiscountType discountType() {        return discountType;    }    public int getBalance() {        return balance;    }    // method to top-up customer account    public void addFunds(int amount){        if (amount > 0){            balance += amount;        }    }    // Charge the customer for using an arcade game    public int chargeAccount(ArcadeGame game, boolean isPeakTime) throws InsufficientBalanceException, AgeLimitException {        if (game instanceof ActiveGame) {            ActiveGame active = (ActiveGame) game;            if (age < active.getMinimumAge()) {                throw new AgeLimitException("Customer is not old enough to play this game.");            }        }        // Throws exception if age is less than required        if (game instanceof VirtualRealityGame) {            VirtualRealityGame vr = (VirtualRealityGame) game;            if (age < vr.getMinimumAge()) {                throw new AgeLimitException("Customer is not old enough to play this VR game.");            }        }        // Price based on peak time        int price = game.calculatePrice(isPeakTime);        // Applies discounts depending on type        if (discountType == DiscountType.CMP_STAFF) {            price = (int) Math.floor(price * 0.9); // 10% discount        } else if (discountType == DiscountType.STUDENT) {            price = (int) Math.floor(price * 0.95); // 5% discount        }        // Exception if student exceeds overdraft        if (discountType == DiscountType.STUDENT) {            if (balance - price < -500) {                throw new InsufficientBalanceException("Student cannot exceed overdraft limit of -500.");            }        } else {            if (balance < price) {                throw new InsufficientBalanceException("Insufficient funds.");            }        }        balance -= price;        return price;    }    // toString method    @Override    public String toString() {        StringBuilder sb = new StringBuilder();        sb.append("Customer info [ customerID : ").append(customerID)                .append(", name : ").append(customerName)                .append(", age : ").append(age)                .append(", balance : ").append(balance)                .append(", discountType : ").append(discountType)                .append("]");        return sb.toString();    }    // Test harness    public static void main(String[] args) throws InvalidCustomerException, InvalidGameIdException, InsufficientBalanceException, AgeLimitException {        System.out.println("====== CUSTOMER TEST HARNESS ======\n");        try{            // Mock Arcade Games            ArcadeGame basicGame = new ActiveGame ("A123456789", "PacMan", 300,0); // 300 = £3.00, No age restriction            ActiveGame ageRestrictedGame = new ActiveGame("A987654321", "Zombie VR", 500, 18); // 500 = £5.00            // Customer Details (no discount)            Customer c1 = new Customer("AB12CD", "Sophia", 20, Customer.DiscountType.NONE);            System.out.println(c1);            c1.addFunds(1000);            System.out.println("Balance after top-up: " + c1.getBalance() + "\n");            // Customer Details (student)            Customer c2 = new Customer("ST1234", "Charlie", 19, Customer.DiscountType.STUDENT, 100);            System.out.println(c2);            c2.chargeAccount(basicGame, false);            System.out.println("Balance after game charge (student): " + c2.getBalance() + "\n");            // Customer Details (staff)            Customer c3 = new Customer("CM1234", "Natalie", 22, Customer.DiscountType.CMP_STAFF, 300);            System.out.println(c3);            int chargedAmount = c3.chargeAccount(basicGame, true);            System.out.println("Staff charged (with discount): " + chargedAmount);            System.out.println("New balance: " + c3.getBalance() + "\n");            // Student overdraft test            c2.chargeAccount(basicGame, true); // May go below 0            System.out.println("Balance after overdraft: " + c2.getBalance() + "\n");            System.out.println("------ EXCEPTION TESTS ------\n");            // Invalid ID test            try {                Customer invalidID = new Customer("123", "Xavier", 25, Customer.DiscountType.NONE);            } catch (InvalidCustomerException e) {                System.out.println("1: Invalid Customer ID");                System.out.println("Expected Exception: " + e.getMessage() + "\n");            }            // Negative balance test            try {                Customer negativeBalance = new Customer("XY12Z9", "Mason", 30, Customer.DiscountType.NONE, -100);            } catch (InvalidCustomerException e) {                System.out.println("2: Negative Starting Balance");                System.out.println("Expected Exception: " + e.getMessage() + "\n");            }            // Age limit test            try {                Customer tooYoung = new Customer("YNG123", "Chloe", 15, Customer.DiscountType.NONE, 1000);                tooYoung.chargeAccount(ageRestrictedGame, false);            } catch (AgeLimitException e) {                System.out.println("3: Customer too young for game");                System.out.println("Expected Exception: " + e.getMessage() + "\n");            }            // Insufficient balance test            try {                Customer broke = new Customer("BRK001", "Gina", 21, Customer.DiscountType.NONE, 100);                broke.chargeAccount(ageRestrictedGame, true);            } catch (InsufficientBalanceException e) {                System.out.println("4: Insufficient funds");                System.out.println("Expected Exception: " + e.getMessage() + "\n");            }            System.out.println("====== END OF TESTS ======");        }catch (Exception e) {            e.printStackTrace();        }    }}